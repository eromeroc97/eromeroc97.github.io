<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Asignaturas</title>
    <link rel="icon" href="test.ico" type="image/x-icon"> <!-- Añadir favicon -->
    <link rel="stylesheet" href="tests.css">
</head>
<body>
    <div id="last-update"></div> <!-- Contenedor para la última actualización -->

    <div class="container">
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" />
                <div class="slider round"></div>
            </label>
            <em>Cambiar tema</em>
        </div>
        <h1>Test de Asignaturas</h1>
        <div class="selector-container">
            <select id="asignatura-select">
                <option value="">Selecciona una asignatura</option>
                <!-- Las opciones se cargarán dinámicamente con JavaScript -->
            </select>
            <div id="temas-container">
                <!-- Los checkboxes de temas se cargarán dinámicamente -->
            </div>
            <input type="number" id="num-preguntas" min="1" value="10" placeholder="Número de preguntas">
            <button id="generar-test">Generar Test</button>
        </div>
        <div id="test-container">
            <!-- Aquí se generará el test dinámicamente -->
        </div>
    </div>

    <script src="test_theme.js"></script>
    <script src="tests.js"></script>

    <script>
        // Función para mostrar la fecha de última actualización
        function mostrarUltimaActualizacion() {
            const cfecha = document.lastModified; // Obtener la fecha de última modificación
            const meses = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            
            const fecha = new Date(cfecha); // Convertir a objeto Date
            const dia = fecha.getDate();
            const mes = meses[fecha.getMonth()];
            const anio = fecha.getFullYear();
            const hora = fecha.getHours();
            const minutos = String(fecha.getMinutes()).padStart(2, '0'); // Asegurar que los minutos tengan dos dígitos
            
            // Formatear la cadena de salida
            const ultimaActualizacion = `Última actualización: ${dia} de ${mes} de ${anio} a las ${hora}:${minutos}`;
            
            // Mostrar en el contenedor
            document.getElementById('last-update').textContent = ultimaActualizacion;
        }

        // Llamar a la función al cargar la página
        window.onload = mostrarUltimaActualizacion;
    </script>
</body>
</html>
